<!DOCTYPE html>
<html lang="en">
<head>
    <title>Search Engine</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="search.svg" type="image/x-icon">
    <link href="bootstrap.min.css" rel="stylesheet">
    <script src="bootstrap.bundle.min.js"></script>
    <script src="scripts.js"></script>
    <style>
        .form-control:focus {
            border-color: #000000;
            box-shadow: 0 0 0 rgba(0, 0, 0, 0);
        }
    </style>
</head>

<body>

<div class="container min-vh-100 align-content-center">
    <div class="fs-1 fw-bold font-monospace text-center mb-3">Search Engine</div>
    <div class="d-flex h-100 justify-content-around">
        <div class="text-nowrap me-3 p-3 align-content-center fw-bold fs-5 font-monospace invisible">SE</div>
        <div class="flex-fill d-flex justify-content-end align-content-center rounded-pill border border-1 my-2 shadow-sm" >
            <input class="flex-grow-1 form-control border-0 rounded-pill ps-4"
                   type="text" id="search-input" placeholder="Enter keywords..." />
            <button id="search-button" class="btn rounded-pill" onclick="search()">
                <img aria-hidden="true" alt="search-icon" src="search.svg"/>
            </button>
        </div>
        <div class="text-nowrap me-3 p-3 align-content-center fw-bold fs-5 font-monospace invisible">SE</div>
    </div>
</div>

<div class="container-fluid fixed-bottom bg-light">
    <div class="container h-100 justify-content-start">
        <div class="d-flex h-100 justify-content-between">
            <a class="btn btn-outline-secondary my-2" target="_blank" href="https://github.com/SilentNight1224/CSIT5930-Course-Project/tree/main">GitHub</a>
            <button class="btn btn-outline-primary my-2" onclick="initSearchEngine()">Initialize Search Engine</button>
        </div>
    </div>
</div>

<!-- Modals -->
<div class="modal fade" id="initModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="initModalLabel">Initializing...</h1>
            </div>
            <div class="modal-body">
                <div class="d-flex align-items-center">
                    <div class="spinner-border text-primary" role="status" aria-hidden="true">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                    <div class="ms-3">Crawling and indexing. This may take a while.</div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="clearModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="clearModalLabel">Warning!</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div>All search history will be deleted. </div>
                <div>This operation cannot be undone!</div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-danger" onclick="clearSearchRecord()" data-bs-dismiss="modal">Delete</button>
            </div>
        </div>
    </div>
</div>


<script>
    document.getElementById('search-input').addEventListener('keydown', function (e) {
        if (e.key === 'Enter') search();
    });
</script>

</body>
</html>